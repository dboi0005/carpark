import{_ as R,q as p,j as g,z as d,g as W,o as X,a as e,w as s,b as l,f as a,t as r}from"./app-NUBUC0vD.js";import Z from"./ShiftFormDialog-DUijQjMf.js";import{d as S}from"./dayjs.min-Do_9EaZr.js";const tt={class:"shifts-wrapper"},et={class:"page-header mb-8"},st={class:"text-h4 font-weight-bold text-indigo-darken-4 mb-2"},lt={class:"pa-4"},ot={class:"d-flex align-center justify-space-between mb-2"},at={class:"text-h5 font-weight-bold text-indigo-darken-4"},it={class:"pa-4"},nt={class:"d-flex align-center justify-space-between mb-2"},dt={class:"text-h5 font-weight-bold text-indigo-darken-4"},rt={class:"pa-4"},ct={class:"d-flex align-center justify-space-between mb-2"},ut={class:"text-h5 font-weight-bold text-indigo-darken-4"},mt={class:"pa-4"},ft={class:"d-flex align-center justify-space-between mb-2"},vt={class:"text-h5 font-weight-bold text-indigo-darken-4"},_t={class:"d-flex align-center"},pt={class:"card-header pa-6 pb-4"},gt={class:"d-flex align-center justify-space-between"},ht={class:"text-h6 font-weight-bold text-indigo-darken-4"},xt={class:"d-flex align-center"},bt={class:"font-weight-bold text-indigo-darken-4"},kt={class:"text-caption text-medium-emphasis"},wt={class:"d-flex ga-2"},yt={__name:"Index",props:{shifts:{type:Array,default:()=>[]}},setup(C){const m=C,h=p(!1),_=p(!1),k=p(null),w=p(null),x=p(""),V=[{key:"name",title:"Shift Name",sortable:!0},{key:"start_time",title:"Start Time",align:"center"},{key:"end_time",title:"End Time",align:"center"},{key:"users_count",title:"Assigned Staff",align:"center"},{key:"is_active",title:"Status",align:"center"},{key:"actions",title:"Actions",align:"center",sortable:!1}],A=g(()=>{if(!x.value)return m.shifts;const i=x.value.toLowerCase();return m.shifts.filter(t=>{var n;return(n=t.name)==null?void 0:n.toLowerCase().includes(i)})}),D=g(()=>m.shifts.filter(i=>i.is_active).length),j=g(()=>m.shifts.filter(i=>!i.is_active).length),T=g(()=>m.shifts.length),$=g(()=>m.shifts.reduce((i,t)=>{var n;return i+(((n=t.users)==null?void 0:n.length)||0)},0)),z=i=>S(`2000-01-01 ${i}`).format("h:mm A"),I=i=>{const t=S(`2000-01-01 ${i.start_time}`);return`${S(`2000-01-01 ${i.end_time}`).diff(t,"hour")} hours`},U=()=>{k.value=null,h.value=!0},N=i=>{k.value=i,h.value=!0},B=i=>{w.value=i,_.value=!0},L=()=>{_.value=!1,w.value=null},q=i=>{};return(i,t)=>{const n=d("v-icon"),f=d("v-btn"),c=d("v-chip"),v=d("v-card"),b=d("v-col"),E=d("v-row"),M=d("v-card-title"),y=d("v-divider"),F=d("v-alert"),Q=d("v-card-text"),Y=d("v-card-actions"),G=d("v-dialog"),H=d("v-text-field"),J=d("v-avatar"),K=d("v-switch"),O=d("v-data-table"),P=d("v-container");return X(),W("div",tt,[e(P,{class:"py-8 px-6"},{default:s(()=>[l("div",et,[l("div",null,[l("h1",st,[e(n,{size:"32",class:"mr-2"},{default:s(()=>[...t[4]||(t[4]=[a("mdi-clock-time-eight",-1)])]),_:1}),t[5]||(t[5]=a(" Shift Management ",-1))]),t[6]||(t[6]=l("p",{class:"text-body-1 text-medium-emphasis"}," Manage work shifts and schedules ",-1))]),e(f,{color:"indigo-darken-4",size:"large",onClick:U,"prepend-icon":"mdi-plus-circle",class:"add-btn elevation-4"},{default:s(()=>[...t[7]||(t[7]=[a(" Add Shift ",-1)])]),_:1})]),e(E,{class:"mb-6"},{default:s(()=>[e(b,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(v,{class:"stat-card elevation-4",rounded:"lg"},{default:s(()=>[l("div",lt,[l("div",ot,[e(n,{size:"32",color:"success"},{default:s(()=>[...t[8]||(t[8]=[a("mdi-clock-check",-1)])]),_:1}),e(c,{size:"small",color:"success",variant:"flat"},{default:s(()=>[...t[9]||(t[9]=[a("Active",-1)])]),_:1})]),l("h3",at,r(D.value),1),t[10]||(t[10]=l("p",{class:"text-caption text-medium-emphasis"},"Active Shifts",-1))])]),_:1})]),_:1}),e(b,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(v,{class:"stat-card elevation-4",rounded:"lg"},{default:s(()=>[l("div",it,[l("div",nt,[e(n,{size:"32",color:"warning"},{default:s(()=>[...t[11]||(t[11]=[a("mdi-clock-alert",-1)])]),_:1}),e(c,{size:"small",color:"warning",variant:"flat"},{default:s(()=>[...t[12]||(t[12]=[a("Inactive",-1)])]),_:1})]),l("h3",dt,r(j.value),1),t[13]||(t[13]=l("p",{class:"text-caption text-medium-emphasis"},"Inactive Shifts",-1))])]),_:1})]),_:1}),e(b,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(v,{class:"stat-card elevation-4",rounded:"lg"},{default:s(()=>[l("div",rt,[l("div",ct,[e(n,{size:"32",color:"primary"},{default:s(()=>[...t[14]||(t[14]=[a("mdi-calendar-clock",-1)])]),_:1}),e(c,{size:"small",color:"primary",variant:"flat"},{default:s(()=>[...t[15]||(t[15]=[a("Total",-1)])]),_:1})]),l("h3",ut,r(T.value),1),t[16]||(t[16]=l("p",{class:"text-caption text-medium-emphasis"},"Total Shifts",-1))])]),_:1})]),_:1}),e(b,{cols:"12",sm:"6",md:"3"},{default:s(()=>[e(v,{class:"stat-card elevation-4",rounded:"lg"},{default:s(()=>[l("div",mt,[l("div",ft,[e(n,{size:"32",color:"info"},{default:s(()=>[...t[17]||(t[17]=[a("mdi-account-group",-1)])]),_:1}),e(c,{size:"small",color:"info",variant:"flat"},{default:s(()=>[...t[18]||(t[18]=[a("Staff",-1)])]),_:1})]),l("h3",vt,r($.value),1),t[19]||(t[19]=l("p",{class:"text-caption text-medium-emphasis"},"Assigned Staff",-1))])]),_:1})]),_:1})]),_:1}),e(Z,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=o=>h.value=o),selectedShift:k.value},null,8,["modelValue","selectedShift"]),e(G,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=o=>_.value=o),"max-width":"500",persistent:""},{default:s(()=>[e(v,{rounded:"lg"},{default:s(()=>[e(M,{class:"pa-6 pb-4"},{default:s(()=>[l("div",_t,[e(n,{size:"32",color:"error",class:"mr-3"},{default:s(()=>[...t[20]||(t[20]=[a("mdi-alert-circle",-1)])]),_:1}),t[21]||(t[21]=l("span",{class:"text-h6 font-weight-bold"},"Confirm Delete",-1))])]),_:1}),e(y),e(Q,{class:"pa-6"},{default:s(()=>[e(F,{type:"error",variant:"tonal",density:"comfortable"},{default:s(()=>{var o;return[t[22]||(t[22]=a(" Are you sure you want to delete ",-1)),l("strong",null,r((o=w.value)==null?void 0:o.name),1),t[23]||(t[23]=a("? This action cannot be undone. ",-1))]}),_:1})]),_:1}),e(y),e(Y,{class:"pa-4 justify-end"},{default:s(()=>[e(f,{variant:"outlined",onClick:t[1]||(t[1]=o=>_.value=!1)},{default:s(()=>[...t[24]||(t[24]=[a(" Cancel ",-1)])]),_:1}),e(f,{color:"error",variant:"flat",onClick:L},{default:s(()=>[...t[25]||(t[25]=[a(" Yes, Delete Shift ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(v,{class:"data-table-card elevation-8",rounded:"lg"},{default:s(()=>[l("div",pt,[l("div",gt,[l("h3",ht,[e(n,{class:"mr-2"},{default:s(()=>[...t[26]||(t[26]=[a("mdi-format-list-bulleted",-1)])]),_:1}),t[27]||(t[27]=a(" Shifts List ",-1))]),e(H,{modelValue:x.value,"onUpdate:modelValue":t[3]||(t[3]=o=>x.value=o),"prepend-inner-icon":"mdi-magnify",label:"Search shifts",density:"compact","hide-details":"",variant:"outlined","bg-color":"white",clearable:"",style:{"max-width":"300px"}},null,8,["modelValue"])])]),e(y),e(O,{headers:V,items:A.value,class:"custom-data-table","items-per-page":10},{"item.name":s(({item:o})=>[l("div",xt,[e(J,{color:"indigo-lighten-5",size:"40",class:"mr-3"},{default:s(()=>[e(n,{color:"indigo-darken-4"},{default:s(()=>[...t[28]||(t[28]=[a("mdi-clock-outline",-1)])]),_:1})]),_:1}),l("div",null,[l("div",bt,r(o.name),1),l("div",kt,r(I(o)),1)])])]),"item.start_time":s(({item:o})=>[e(c,{color:"success",variant:"flat",size:"small"},{default:s(()=>[e(n,{start:"",size:"14"},{default:s(()=>[...t[29]||(t[29]=[a("mdi-login",-1)])]),_:1}),a(" "+r(z(o.start_time)),1)]),_:2},1024)]),"item.end_time":s(({item:o})=>[e(c,{color:"error",variant:"flat",size:"small"},{default:s(()=>[e(n,{start:"",size:"14"},{default:s(()=>[...t[30]||(t[30]=[a("mdi-logout",-1)])]),_:1}),a(" "+r(z(o.end_time)),1)]),_:2},1024)]),"item.is_active":s(({item:o})=>[e(K,{modelValue:o.is_active,"onUpdate:modelValue":u=>o.is_active=u,color:"success",density:"compact","hide-details":"",onChange:u=>q(o)},{label:s(()=>[e(c,{color:o.is_active?"success":"grey",variant:"flat",size:"x-small"},{default:s(()=>[a(r(o.is_active?"Active":"Inactive"),1)]),_:2},1032,["color"])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),"item.users_count":s(({item:o})=>[e(c,{color:"info",variant:"tonal",size:"small"},{default:s(()=>{var u;return[e(n,{start:"",size:"14"},{default:s(()=>[...t[31]||(t[31]=[a("mdi-account-multiple",-1)])]),_:1}),a(" "+r(((u=o.users)==null?void 0:u.length)||0)+" staff ",1)]}),_:2},1024)]),"item.actions":s(({item:o})=>[l("div",wt,[e(f,{icon:"mdi-pencil",color:"indigo-darken-4",size:"small",variant:"tonal",onClick:u=>N(o)},null,8,["onClick"]),e(f,{icon:"mdi-delete",color:"error",size:"small",variant:"tonal",onClick:u=>B(o)},null,8,["onClick"])])]),_:1},8,["items"])]),_:1})]),_:1})])}}},Vt=R(yt,[["__scopeId","data-v-a6e6e320"]]);export{Vt as default};
