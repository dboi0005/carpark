import{_ as R,x as S,q as H,u as D,z as d,g,o as _,a,w as t,b as s,f as p,d as l,E as $,G as F,i as V,c as x}from"./app-NUBUC0vD.js";const G={class:"settings-wrapper"},O={class:"card-header pa-6"},T={class:"d-flex align-center justify-space-between"},q={class:"pa-6"},A={class:"section-title mb-4"},L={class:"section-title mb-4 mt-6"},M={key:0},J={key:0},K={class:"pa-6"},Q={class:"d-flex justify-end ga-3"},W={__name:"Index",setup(X){const r=S().props.company,n=H(!0),f={name:r.name,address:r.address,contact:r.contact,rate:r.rate,rate_perhour:r.rate_perhour,rate_perday:r.rate_perday,hourly_billing_limit:r.hourly_billing_limit,grace_minutes:r.grace_minutes},o=D({id:r.id,name:r.name,address:r.address,contact:r.contact,rate:r.rate,rate_perhour:r.rate_perhour,rate_perday:r.rate_perday,hourly_billing_limit:r.hourly_billing_limit,grace_minutes:r.grace_minutes}),h=[{label:"Per Hour",value:"perhour"},{label:"Per Day",value:"perday"},{label:"Combination",value:"combination"}],w=u=>{switch(u){case"perhour":return"mdi-clock-outline";case"perday":return"mdi-calendar-today";case"combination":return"mdi-alarm-multiple";default:return"mdi-cash"}},U=()=>{Object.keys(f).forEach(u=>{o[u]=f[u]}),n.value=!0},B=()=>{o.put(route("company.update",o.id),{preserveScroll:!0,onSuccess:()=>{n.value=!0,Object.keys(f).forEach(u=>{f[u]=o[u]}),console.log("✅ Company updated successfully!")},onError:u=>{console.error("❌ Validation failed:",u)}})};return(u,e)=>{const v=d("v-icon"),k=d("v-divider"),m=d("v-text-field"),c=d("v-col"),b=d("v-row"),E=d("v-list-item"),z=d("v-select"),N=d("v-alert"),C=d("v-expand-transition"),y=d("v-btn"),P=d("v-card"),j=d("v-container");return _(),g("div",G,[a(j,{class:"py-8"},{default:t(()=>[a(b,{justify:"center"},{default:t(()=>[a(c,{cols:"12",md:"10",lg:"8"},{default:t(()=>[a(P,{class:"settings-card elevation-1",rounded:"lg"},{default:t(()=>[s("div",O,[s("div",T,[e[10]||(e[10]=s("div",null,[s("h2",{class:"text-h5 text-indigo-darken-4 font-weight-bold mb-1"},"Company Settings"),s("p",{class:"text-body-2 text-medium-emphasis mb-0"}," Manage your company information and billing preferences ")],-1)),a(v,{size:"40",color:"indigo-darken-4",class:"settings-icon"},{default:t(()=>[...e[9]||(e[9]=[p(" mdi-office-building-cog ",-1)])]),_:1})])]),a(k),s("div",q,[s("div",A,[a(v,{class:"mr-2",color:"indigo-darken-4"},{default:t(()=>[...e[11]||(e[11]=[p("mdi-information",-1)])]),_:1}),e[12]||(e[12]=s("span",{class:"text-subtitle-1 font-weight-semibold"},"Basic Information",-1))]),a(b,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[a(m,{label:"Company Name",variant:"outlined",density:"comfortable",modelValue:l(o).name,"onUpdate:modelValue":e[0]||(e[0]=i=>l(o).name=i),disabled:n.value,"prepend-inner-icon":"mdi-domain",readonly:n.value,"bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1}),a(c,{cols:"12"},{default:t(()=>[a(m,{label:"Address",variant:"outlined",density:"comfortable",modelValue:l(o).address,"onUpdate:modelValue":e[1]||(e[1]=i=>l(o).address=i),disabled:n.value,"prepend-inner-icon":"mdi-map-marker",readonly:n.value,"bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1}),a(c,{cols:"12"},{default:t(()=>[a(m,{label:"Contact Number",variant:"outlined",density:"comfortable",modelValue:l(o).contact,"onUpdate:modelValue":e[2]||(e[2]=i=>l(o).contact=i),disabled:n.value,"prepend-inner-icon":"mdi-phone",readonly:n.value,"bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1})]),_:1}),s("div",L,[a(v,{class:"mr-2",color:"indigo-darken-4"},{default:t(()=>[...e[13]||(e[13]=[p("mdi-cash-multiple",-1)])]),_:1}),e[14]||(e[14]=s("span",{class:"text-subtitle-1 font-weight-semibold"},"Billing Configuration",-1))]),a(b,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[a(z,{label:"Rate Type",variant:"outlined",density:"comfortable",items:h,"item-title":"label","item-value":"value",modelValue:l(o).rate,"onUpdate:modelValue":e[3]||(e[3]=i=>l(o).rate=i),disabled:n.value,"prepend-inner-icon":"mdi-clipboard-text-clock",readonly:n.value,"bg-color":"surface"},{item:t(({props:i,item:I})=>[a(E,$(F(i)),{prepend:t(()=>[a(v,{icon:w(I.raw.value)},null,8,["icon"])]),_:2},1040)]),_:1},8,["modelValue","disabled","readonly"])]),_:1}),a(c,{cols:"12",sm:"6"},{default:t(()=>[a(m,{label:"Rate per Hour",variant:"outlined",density:"comfortable",modelValue:l(o).rate_perhour,"onUpdate:modelValue":e[4]||(e[4]=i=>l(o).rate_perhour=i),disabled:n.value||l(o).rate!=="perhour"&&l(o).rate!=="combination","prepend-inner-icon":"mdi-clock-outline",prefix:"$",type:"number",readonly:n.value||l(o).rate!=="perhour"&&l(o).rate!=="combination","bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1}),a(c,{cols:"12",sm:"6"},{default:t(()=>[a(m,{label:"Rate per Day",variant:"outlined",density:"comfortable",modelValue:l(o).rate_perday,"onUpdate:modelValue":e[5]||(e[5]=i=>l(o).rate_perday=i),disabled:n.value||l(o).rate!=="perday"&&l(o).rate!=="combination","prepend-inner-icon":"mdi-calendar-today",prefix:"$",type:"number",readonly:n.value||l(o).rate!=="perday"&&l(o).rate!=="combination","bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1})]),_:1}),a(C,null,{default:t(()=>[l(o).rate==="combination"?(_(),g("div",M,[a(N,{type:"info",variant:"tonal",class:"mb-4",density:"compact",icon:"mdi-information-outline"},{default:t(()=>[...e[15]||(e[15]=[p(" Configure how hourly and daily rates combine ",-1)])]),_:1}),a(b,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[a(m,{label:"Hourly Billing Limit",variant:"outlined",density:"comfortable",modelValue:l(o).hourly_billing_limit,"onUpdate:modelValue":e[6]||(e[6]=i=>l(o).hourly_billing_limit=i),disabled:n.value,type:"number",min:"1",suffix:"hours","prepend-inner-icon":"mdi-timer-sand",hint:"Hours charged before switching to daily rate","persistent-hint":"",readonly:n.value,"bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1})]),_:1})])):V("",!0)]),_:1}),a(C,null,{default:t(()=>[l(o).rate==="perday"||l(o).rate==="combination"?(_(),g("div",J,[a(b,null,{default:t(()=>[a(c,{cols:"12"},{default:t(()=>[a(m,{label:"Grace Period",variant:"outlined",density:"comfortable",modelValue:l(o).grace_minutes,"onUpdate:modelValue":e[7]||(e[7]=i=>l(o).grace_minutes=i),disabled:n.value,type:"number",min:"0",suffix:"minutes","prepend-inner-icon":"mdi-clock-plus-outline",hint:"Free minutes allowed beyond hourly or daily limit","persistent-hint":"",readonly:n.value,"bg-color":"surface"},null,8,["modelValue","disabled","readonly"])]),_:1})]),_:1})])):V("",!0)]),_:1})]),a(k),s("div",K,[s("div",Q,[n.value?V("",!0):(_(),x(y,{key:0,variant:"outlined",onClick:U,"prepend-icon":"mdi-close",size:"large",color:"indigo-darken-4"},{default:t(()=>[...e[16]||(e[16]=[p(" Cancel ",-1)])]),_:1})),n.value?(_(),x(y,{key:1,color:"primary",onClick:e[8]||(e[8]=i=>n.value=!1),"prepend-icon":"mdi-pencil",size:"large",class:"px-6"},{default:t(()=>[...e[17]||(e[17]=[p(" Edit Settings ",-1)])]),_:1})):(_(),x(y,{key:2,color:"indigo-darken-4",onClick:B,"prepend-icon":"mdi-content-save",size:"large",class:"px-6",loading:l(o).processing},{default:t(()=>[...e[18]||(e[18]=[p(" Save Changes ",-1)])]),_:1},8,["loading"]))])])]),_:1})]),_:1})]),_:1})]),_:1})])}}},ee=R(W,[["__scopeId","data-v-7585756c"]]);export{ee as default};
