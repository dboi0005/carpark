import{g as i,o as l,b as t,U as _,f as k,t as o,i as y,F as v,K as w,n as P}from"./app-NUBUC0vD.js";const D={class:"min-h-screen bg-gray-100 py-8 print:bg-white print:py-0"},N={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 print:px-0"},S={class:"bg-white shadow-sm print:shadow-none"},T={class:"border-b-2 border-gray-800 px-8 py-6 print:px-12 print:py-8"},A={class:"text-center"},C={class:"text-gray-600 mt-3 text-sm"},F={class:"font-semibold"},$={class:"text-gray-500 text-xs mt-1 hidden print:block"},L={class:"px-8 py-6 bg-gray-50 border-b border-gray-200 print:px-12"},B={class:"grid grid-cols-2 gap-6"},O={class:"border-l-4 border-blue-600 pl-4"},V={class:"text-2xl font-bold text-gray-900 mt-1"},E={class:"border-l-4 border-green-600 pl-4"},H={class:"text-2xl font-bold text-gray-900 mt-1"},I={class:"px-8 py-6 print:px-12"},R={class:"overflow-x-auto"},j={class:"min-w-full border-collapse"},U={class:"px-4 py-3 text-sm text-gray-900 font-medium"},M={class:"px-4 py-3 text-sm text-gray-700"},z={class:"px-4 py-3 text-sm text-gray-700"},G={class:"px-4 py-3 text-sm text-gray-700"},K={class:"px-4 py-3 text-sm text-gray-700"},q={class:"px-4 py-3 text-sm text-gray-700"},J={class:"px-4 py-3 text-sm text-gray-900 text-right font-medium"},Q={key:0},W={key:0},X={class:"border-t-2 border-gray-800 bg-gray-100"},Y={class:"px-4 py-4 text-right text-lg font-bold text-gray-900"},tt={__name:"TodayParkout",props:{tickets:Array,totalParkFee:Number,totalTickets:Number,reportDate:String},setup(n){const x=n,p=r=>new Intl.NumberFormat("en-PH",{minimumFractionDigits:2,maximumFractionDigits:2}).format(r||0),c=r=>r?new Date(r).toLocaleString("en-PH",{month:"short",day:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"N/A",g=r=>{const e=r.days_parked||0,s=r.hours_parked||0,d=[];return e>0&&d.push(`${e}d`),s>0&&d.push(`${s}h`),d.length>0?d.join(" "):"< 1h"},m=()=>{window.location.href=route("reports.parkout.download")},u=()=>{let r=`Ticket No,Plate No,Park In,Park Out,Duration,Payment Method,Park Fee
`;x.tickets.forEach(a=>{const b=a.park_datetime?new Date(a.park_datetime).toLocaleString("en-PH"):"N/A",h=a.park_out_datetime?new Date(a.park_out_datetime).toLocaleString("en-PH"):"N/A",f=g(a);r+=`"${a.ticket_no}","${a.plate_no||"N/A"}","${b}","${h}","${f}","${a.mode_of_payment||"Cash"}","${a.park_fee}"
`}),r+=`
,,,,,TOTAL:,${x.totalParkFee}`;const e=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),d=URL.createObjectURL(e);s.setAttribute("href",d),s.setAttribute("download",`parkout-report-${new Date().toISOString().split("T")[0]}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)};return(r,e)=>(l(),i("div",D,[t("div",N,[t("div",{class:"mb-6 flex justify-end gap-3 print:hidden"},[t("button",{onClick:m,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded text-sm font-medium transition-colors"}," Print Report "),t("button",{onClick:u,class:"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded text-sm font-medium transition-colors"}," Export to CSV ")]),t("div",S,[t("div",T,[t("div",A,[e[1]||(e[1]=t("h1",{class:"text-2xl font-bold text-gray-900 uppercase tracking-wide"}," Parking System ",-1)),e[2]||(e[2]=t("h2",{class:"text-xl font-semibold text-gray-700 mt-2"}," Daily Parkout Report ",-1)),t("p",C,[e[0]||(e[0]=k(" Report Date: ",-1)),t("span",F,o(n.reportDate),1)]),t("p",$," Generated: "+o(new Date().toLocaleString("en-PH",{dateStyle:"long",timeStyle:"short"})),1)])]),t("div",L,[e[5]||(e[5]=t("h3",{class:"text-sm font-bold text-gray-700 uppercase tracking-wider mb-4"},"Summary",-1)),t("div",B,[t("div",O,[e[3]||(e[3]=t("p",{class:"text-xs text-gray-600 uppercase tracking-wide"},"Total Parkout Tickets",-1)),t("p",V,o(n.totalTickets),1)]),t("div",E,[e[4]||(e[4]=t("p",{class:"text-xs text-gray-600 uppercase tracking-wide"},"Total Collection",-1)),t("p",H,"₱"+o(p(n.totalParkFee)),1)])])]),t("div",I,[t("div",R,[t("table",j,[e[8]||(e[8]=t("thead",null,[t("tr",{class:"border-b-2 border-gray-300"},[t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Ticket No. "),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Plate No. "),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Park In "),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Park Out "),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Duration "),t("th",{class:"px-4 py-3 text-left text-xs font-bold text-gray-700 uppercase tracking-wider"}," Payment "),t("th",{class:"px-4 py-3 text-right text-xs font-bold text-gray-700 uppercase tracking-wider"}," Amount ")])],-1)),t("tbody",null,[(l(!0),i(v,null,w(n.tickets,(s,d)=>(l(),i("tr",{key:s.id,class:P(["border-b border-gray-200 hover:bg-gray-50 print:hover:bg-white",{"bg-gray-50":d%2===1}])},[t("td",U,o(s.ticket_no),1),t("td",M,o(s.plate_no||"N/A"),1),t("td",z,o(c(s.park_datetime)),1),t("td",G,o(c(s.park_out_datetime)),1),t("td",K,o(g(s)),1),t("td",q,o(s.mode_of_payment||"Cash"),1),t("td",J," ₱"+o(p(s.park_fee)),1)],2))),128)),n.tickets.length===0?(l(),i("tr",Q,[...e[6]||(e[6]=[t("td",{colspan:"7",class:"px-4 py-12 text-center text-gray-500 text-sm"}," No parkout records found for today ",-1)])])):y("",!0)]),n.tickets.length>0?(l(),i("tfoot",W,[t("tr",X,[e[7]||(e[7]=t("td",{colspan:"6",class:"px-4 py-4 text-right text-sm font-bold text-gray-900 uppercase"}," Total Amount: ",-1)),t("td",Y," ₱"+o(p(n.totalParkFee)),1)])])):y("",!0)])])]),e[9]||(e[9]=_('<div class="px-8 py-6 border-t border-gray-200 print:px-12"><div class="grid grid-cols-3 gap-8 mt-8"><div class="text-center"><div class="border-t-2 border-gray-800 pt-2 mt-12"><p class="text-sm font-semibold text-gray-900">Prepared By</p><p class="text-xs text-gray-600 mt-1">Cashier / Staff</p></div></div><div class="text-center"><div class="border-t-2 border-gray-800 pt-2 mt-12"><p class="text-sm font-semibold text-gray-900">Verified By</p><p class="text-xs text-gray-600 mt-1">Supervisor</p></div></div><div class="text-center"><div class="border-t-2 border-gray-800 pt-2 mt-12"><p class="text-sm font-semibold text-gray-900">Approved By</p><p class="text-xs text-gray-600 mt-1">Manager</p></div></div></div><div class="text-center text-xs text-gray-500 mt-8 pt-4 border-t border-gray-200"><p>This is a system-generated report</p></div></div>',1))])])]))}};export{tt as default};
