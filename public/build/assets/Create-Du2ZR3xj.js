import{_ as F,C as S,D as j,q as B,u as M,j as P,y as $,z as n,c as h,o as A,w as s,a as t,b as a,f as l,t as _,e as O,d}from"./app-NUBUC0vD.js";const q={class:"form-header pa-6 pb-4"},I={class:"d-flex align-center justify-space-between"},W={class:"d-flex align-center"},G={class:"text-h6 font-weight-bold text-indigo-darken-4"},H={class:"text-caption text-medium-emphasis mb-0"},J={class:"input-group"},K={class:"input-label"},L={class:"input-group"},Q={class:"input-label"},R={class:"input-group"},X={class:"input-label"},Y={class:"input-group"},Z={class:"input-label"},ee={class:"input-group"},te={class:"input-label"},oe={class:"pa-3 d-flex align-center justify-center"},se={class:"text-h6 font-weight-bold text-indigo-darken-4"},ae={__name:"Create",props:S({selectedTemplate:{type:Object,default:null}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:["update:modelValue"],setup(g){const p=j(g,"modelValue"),b=g,u=B(!1),o=M({card_name:"",no_of_days:null,price:null,discount:null}),V=P(()=>{const i=Number(o.price)||0,e=Number(o.discount)||0;return(i-e).toFixed(2)});$(()=>b.selectedTemplate,i=>{i?(u.value=!0,o.card_name=i.card_name,o.no_of_days=i.no_of_days,o.price=i.price,o.discount=i.discount):(u.value=!1,o.reset())});const w=()=>o.post(route("card-template.store"),{onSuccess:()=>{o.reset(),p.value=!1},onError:i=>{console.log(i)}}),C=()=>o.put(route("card-template.update",b.selectedTemplate.id),{onSuccess:()=>{o.reset(),p.value=!1},onError:i=>{console.log(i)}});return(i,e)=>{const c=n("v-icon"),k=n("v-avatar"),v=n("v-btn"),x=n("v-divider"),f=n("v-text-field"),m=n("v-col"),y=n("v-card"),z=n("v-alert"),N=n("v-row"),T=n("v-card-text"),E=n("v-spacer"),U=n("v-card-actions"),D=n("v-dialog");return A(),h(D,{modelValue:p.value,"onUpdate:modelValue":e[7]||(e[7]=r=>p.value=r),"max-width":"600",persistent:""},{default:s(()=>[t(y,{rounded:"lg",class:"template-form-card"},{default:s(()=>[a("div",q,[a("div",I,[a("div",W,[t(k,{color:"indigo-darken-4",size:"48",class:"mr-3"},{default:s(()=>[t(c,{size:"28",color:"white"},{default:s(()=>[l(_(u.value?"mdi-card-text-outline":"mdi-card-plus"),1)]),_:1})]),_:1}),a("div",null,[a("h2",G,_(u.value?"Edit Template":"Create New Template"),1),a("p",H,_(u.value?"Update template information":"Set up pricing and duration"),1)])]),t(v,{icon:"mdi-close",variant:"text",onClick:e[0]||(e[0]=r=>p.value=!1)})])]),t(x),a("form",{onSubmit:e[6]||(e[6]=O(r=>u.value?C():w(),["prevent"]))},[t(T,{class:"pa-6"},{default:s(()=>[t(N,null,{default:s(()=>[t(m,{cols:"12"},{default:s(()=>[a("div",J,[a("label",K,[t(c,{size:"18",class:"mr-1"},{default:s(()=>[...e[8]||(e[8]=[l("mdi-card-text",-1)])]),_:1}),e[9]||(e[9]=l(" Card Name ",-1))]),t(f,{modelValue:d(o).card_name,"onUpdate:modelValue":e[1]||(e[1]=r=>d(o).card_name=r),placeholder:"Enter card name (e.g., Weekly Pass)",variant:"outlined",density:"comfortable","error-messages":d(o).errors.card_name,"prepend-inner-icon":"mdi-credit-card-outline","hide-details":"auto"},null,8,["modelValue","error-messages"])])]),_:1}),t(m,{cols:"12",sm:"6"},{default:s(()=>[a("div",L,[a("label",Q,[t(c,{size:"18",class:"mr-1"},{default:s(()=>[...e[10]||(e[10]=[l("mdi-calendar-range",-1)])]),_:1}),e[11]||(e[11]=l(" Duration (Days) ",-1))]),t(f,{modelValue:d(o).no_of_days,"onUpdate:modelValue":e[2]||(e[2]=r=>d(o).no_of_days=r),placeholder:"Number of days",variant:"outlined",density:"comfortable",type:"number",min:"1","error-messages":d(o).errors.no_of_days,"prepend-inner-icon":"mdi-calendar-clock","hide-details":"auto"},null,8,["modelValue","error-messages"])])]),_:1}),t(m,{cols:"12",sm:"6"},{default:s(()=>[a("div",R,[a("label",X,[t(c,{size:"18",class:"mr-1"},{default:s(()=>[...e[12]||(e[12]=[l("mdi-cash",-1)])]),_:1}),e[13]||(e[13]=l(" Price ",-1))]),t(f,{modelValue:d(o).price,"onUpdate:modelValue":e[3]||(e[3]=r=>d(o).price=r),placeholder:"Enter price",variant:"outlined",density:"comfortable",type:"number",min:"0",step:"0.01",prefix:"₱","error-messages":d(o).errors.price,"prepend-inner-icon":"mdi-currency-php","hide-details":"auto"},null,8,["modelValue","error-messages"])])]),_:1}),t(m,{cols:"12",sm:"6"},{default:s(()=>[a("div",Y,[a("label",Z,[t(c,{size:"18",class:"mr-1"},{default:s(()=>[...e[14]||(e[14]=[l("mdi-tag",-1)])]),_:1}),e[15]||(e[15]=l(" Discount (Optional) ",-1))]),t(f,{modelValue:d(o).discount,"onUpdate:modelValue":e[4]||(e[4]=r=>d(o).discount=r),placeholder:"Enter discount",variant:"outlined",density:"comfortable",type:"number",min:"0",step:"0.01",prefix:"₱","error-messages":d(o).errors.discount,"prepend-inner-icon":"mdi-tag-outline","hide-details":"auto"},null,8,["modelValue","error-messages"])])]),_:1}),t(m,{cols:"12",sm:"6"},{default:s(()=>[a("div",ee,[a("label",te,[t(c,{size:"18",class:"mr-1"},{default:s(()=>[...e[16]||(e[16]=[l("mdi-calculator",-1)])]),_:1}),e[17]||(e[17]=l(" Final Amount ",-1))]),t(y,{class:"amount-preview elevation-0",color:"indigo-lighten-5",rounded:"lg"},{default:s(()=>[a("div",oe,[a("span",se," ₱"+_(V.value),1)])]),_:1})])]),_:1}),t(m,{cols:"12"},{default:s(()=>[t(z,{type:"info",variant:"tonal",density:"compact",class:"info-alert"},{default:s(()=>[...e[18]||(e[18]=[a("div",{class:"text-caption"},[a("strong",null,"Note:"),l(" Final amount is calculated as Price - Discount. This template will be available for card generation. ")],-1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(x),t(U,{class:"pa-6"},{default:s(()=>[t(E),t(v,{variant:"outlined",size:"large",onClick:e[5]||(e[5]=r=>p.value=!1),"prepend-icon":"mdi-close"},{default:s(()=>[...e[19]||(e[19]=[l(" Cancel ",-1)])]),_:1}),t(v,{color:"indigo-darken-4",variant:"flat",size:"large",type:"submit",loading:d(o).processing,"prepend-icon":u.value?"mdi-content-save":"mdi-plus-circle"},{default:s(()=>[l(_(u.value?"Update Template":"Create Template"),1)]),_:1},8,["loading","prepend-icon"])]),_:1})],32)]),_:1})]),_:1},8,["modelValue"])}}},ne=F(ae,[["__scopeId","data-v-e1d16e79"]]);export{ne as default};
